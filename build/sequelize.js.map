{"version":3,"sources":["../src/sequelize.js"],"names":["db","config","dbuser","dbpass","dbconfig","sequelize","Sequelize","User","Profile","Job","belongsTo","foreignKey","sync","then","console","log","app","emit"],"mappings":";;;;;;;AAGA;;;;AAEA;;AACA;;AACA;;AACA;;;;AACA;;;;;;AACA;AAVA;;AAEA;IASQA,E,GAAiCC,c,CAAjCD,E;IAAIE,M,GAA6BD,c,CAA7BC,M;IAAQC,M,GAAqBF,c,CAArBE,M;IAAQC,Q,GAAaH,c,CAAbG,Q;AAP5B;;AAQO,IAAMC,gCAAY,IAAIC,mBAAJ,CAAcN,EAAd,EAAkBE,MAAlB,EAA0BC,MAA1B,EAAkCC,QAAlC,CAAlB;;AAEP;AACO,IAAMG,sBAAO,qBAAUF,SAAV,EAAqBC,mBAArB,CAAb;AACA,IAAME,4BAAU,2BAAaH,SAAb,EAAwBC,mBAAxB,CAAhB;AACA,IAAMG,oBAAM,mBAASJ,SAAT,EAAoBC,mBAApB,CAAZ;AACP;AACAE,QAAQE,SAAR,CAAkBH,IAAlB,EAAwB,EAAEI,YAAY,QAAd,EAAxB;AACAF,IAAIC,SAAJ,CAAcH,IAAd,EAAoB,EAAEI,YAAY,QAAd,EAApB;;AAEAN,UAAUO,IAAV,GAAiBC,IAAjB,CAAsB,YAAM;AAC1BC,UAAQC,GAAR,mBAA4Bf,EAA5B,YAAqCE,MAArC;AACAY,UAAQC,GAAR,CAAY,4BAAZ;AACA;AACAC,mBAAIC,IAAJ,CAAS,iBAAT;AACD,CALD","file":"sequelize.js","sourcesContent":["/** @module src/sequelize */\n\n/** Import sequelize dependency. */\nimport Sequelize from 'sequelize';\n/** Import model definitions and database credentials. */\nimport { UserModel } from './models/User';\nimport { ProfileModel } from './models/Profile';\nimport { JobModel } from './models/Job';\nimport config from './config/keys';\nimport app from './server';\n/** Connect to database using config keys. */\nconst { db, dbuser, dbpass, dbconfig } = config;\nexport const sequelize = new Sequelize(db, dbuser, dbpass, dbconfig);\n\n/** Create models with imported definitions. */\nexport const User = UserModel(sequelize, Sequelize);\nexport const Profile = ProfileModel(sequelize, Sequelize);\nexport const Job = JobModel(sequelize, Sequelize);\n/** User's primary key (id) will be Profile and Job's foreign key as 'userId'. */\nProfile.belongsTo(User, { foreignKey: 'userId' });\nJob.belongsTo(User, { foreignKey: 'userId' });\n\nsequelize.sync().then(() => {\n  console.log(`Connected to ${db} as ${dbuser}.`);\n  console.log('Database & tables created!');\n  /** Emit event once database has been created. */\n  app.emit('Database ready.');\n});\n"]}