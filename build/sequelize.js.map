{"version":3,"sources":["../src/sequelize.js"],"names":["db","config","dbuser","dbpass","dbconfig","sequelize","Sequelize","User","Data","belongsTo","foreignKey","sync","then","console","log","app","emit"],"mappings":";;;;;;;AAGA;;;;AAEA;;AACA;;AACA;;;;AACA;;;;;;AACA;;AALA;IAMQA,E,GAAiCC,c,CAAjCD,E;IAAIE,M,GAA6BD,c,CAA7BC,M;IAAQC,M,GAAqBF,c,CAArBE,M;IAAQC,Q,GAAaH,c,CAAbG,Q,EAV5B;;AAEA;;AASO,IAAMC,gCAAY,IAAIC,mBAAJ,CAAcN,EAAd,EAAkBE,MAAlB,EAA0BC,MAA1B,EAAkCC,QAAlC,CAAlB;;AAEP;AACO,IAAMG,sBAAO,qBAAUF,SAAV,EAAqBC,mBAArB,CAAb;AACA,IAAME,sBAAO,wBAAUH,SAAV,EAAqBC,mBAArB,CAAb;AACP;AACAE,KAAKC,SAAL,CAAeF,IAAf,EAAqB,EAAEG,YAAY,QAAd,EAArB;;AAEAL,UAAUM,IAAV,GAAiBC,IAAjB,CAAsB,YAAM;AAC1BC,UAAQC,GAAR,mBAA4Bd,EAA5B,YAAqCE,MAArC;AACAW,UAAQC,GAAR,CAAY,4BAAZ;AACA;AACAC,mBAAIC,IAAJ,CAAS,iBAAT;AACD,CALD","file":"sequelize.js","sourcesContent":["/** @module src/sequelize */\n\n/** Import sequelize dependency. */\nimport Sequelize from 'sequelize';\n/** Import model definitions and database credentials. */\nimport { UserModel } from './models/User';\nimport { DataModel } from './models/Profile';\nimport config from './config/keys';\nimport app from './server';\n/** Connect to database using config keys. */\nconst { db, dbuser, dbpass, dbconfig } = config;\nexport const sequelize = new Sequelize(db, dbuser, dbpass, dbconfig);\n\n/** Create models with imported definitions. */\nexport const User = UserModel(sequelize, Sequelize);\nexport const Data = DataModel(sequelize, Sequelize);\n/** User's primary key (id) will be Profile and Job's foreign key as 'userId'. */\nData.belongsTo(User, { foreignKey: 'userId' });\n\nsequelize.sync().then(() => {\n  console.log(`Connected to ${db} as ${dbuser}.`);\n  console.log('Database & tables created!');\n  /** Emit event once database has been created. */\n  app.emit('Database ready.');\n});\n"]}